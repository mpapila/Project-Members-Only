<%- include('layout'); -%>

    <body>

        <div class="form">
            <h2>
                <%= title %>
            </h2>
            <form method="POST">
                <div class="form-group">
                    <label for="username">Username:</label>
                    <input id="username" class="form-control" type="text" name="username" required
                        value="<%= typeof user === 'undefined' ? '' : user.username %>">
                    <% if (errors && errors.some(error=> error.param === 'username')) { %>
                        <p class="error-message">
                            <%= errors.find(error=> error.param === 'username').msg %>
                        </p>
                        <% } %>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input id="email" class="form-control" type="email" name="email" required
                        value="<%= typeof user === 'undefined' ? '' : user.email %>">
                    <% if (errors && errors.some(error=> error.param === 'email')) { %>
                        <p class="error-message">
                            <%= errors.find(error=> error.param === 'email').msg %>
                        </p>
                        <% } %>
                </div>
                <% if (!locals.user) { %>
                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input id="password" class="form-control" type="password" name="password" required>
                        <% if (errors && errors.some(error=> error.param === 'password')) { %>
                            <p class="error-message">
                                <%= errors.find(error=> error.param === 'password').msg %>
                            </p>
                            <% } %>
                    </div>
                    <% } %>
                        <button class="btn btn-primary" type="submit">Submit</button>
            </form>
        </div>

        <style>
            .error-message {
                color: red;
                font-size: 14px;
                margin-top: 5px;
            }
        </style>

    </body>